# Protocol Buffers

Protocol Buffers（简称ProtoBuf）
是一种轻量级、高效的数据交换格式，由Google开发。它可以用于结构化数据的序列化，适用于数据存储、通信协议等领域。ProtoBuf使用简洁的接口描述语言来定义数据结构，然后通过特定的编译器生成对应的代码，这些生成的代码可以用于不同的编程语言。ProtoBuf的优点包括高效的编解码速度、较小的数据体积和跨语言支持。这使得它成为了一种流行的数据交换格式，被广泛应用于各种软件系统中。


# SpringCloud常见组件
>![[Pasted image 20240207202412.png]]

# Nacos服务注册表

>![[Pasted image 20240207202310.png]]


#### Nacos如何支撑数十万服务注册压力?
Nacos内部接收到注册的请求时，不会立即写数据，而是将服务注册的任务放入一个阻塞队列就立即响应给客户端。然后利用线程池读取阻塞队列中的任务，异步来完成实例更新，从而提高并发写能力。

#### Nacos如何避免并发读写冲突问题?

Nacos在更新实例列表时，会采用CopyOnWrite技术，首先将旧的实例列表拷贝一份，然后更新拷贝的实例列表，再用更新后的实例列表来覆盖旧的实例列表。
这样在更新的过程中，就不会对读实例列表的请求产生影响，也不会出现脏读问题了

#### Nacos与Eureka的区别有哪些?
Nacos与Eureka有相同点，也有不同之处，可以从以下几点来描述:

1. 接口方式:Nacos与Eureka都对外暴露了Rest风格的API接口，用来实现服务注册、发现等功能
2. 实例类型:Nacos的实例有永久和临时实例之分;而Eureka只支持临时实例
3. 健康检测:Nacos对临时实例采用心跳模式检测，对永久实例采用主动请求来检测;Eureka只支持心跳模式
4. 服务发现:Nacos支持定时拉取和订阅推送两种模式;Eureka只支持定时拉取模式

## 限流算法

>![[Pasted image 20240208132824.png]]

>![[Pasted image 20240208133523.png]]

>![[Pasted image 20240208134125.png]]


>![[Pasted image 20240208134431.png]]

>![[Pasted image 20240208134719.png]]


>![[Pasted image 20240208134800.png]]

>![[Pasted image 20240208135321.png]]








