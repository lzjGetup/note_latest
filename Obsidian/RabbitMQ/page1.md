# 异步调用
  
消息队列的异步调用对微服务的好处主要体现在以下几个方面：
1. 异步处理：通过消息队列，微服务可以将耗时的任务异步处理，不会阻塞主流程，提高系统的并发处理能力和整体性能。
2. 松耦合：消息队列作为中间件，可以实现微服务之间的松耦合通信，每个微服务只需关注自己的业务逻辑，而不需要直接调用其他微服务的接口。
3. 弹性和可伸缩性：消息队列可以帮助微服务实现弹性和可伸缩性，当系统负载增加时，可以通过增加消费者实例来处理更多的消息，从而保证系统的稳定性和可靠性。
4. 容错和解耦：消息队列可以帮助微服务实现容错和解耦，即使某个微服务出现故障，消息队列仍然可以保证消息的可靠传递，不会丢失数据，同时也不会影响其他微服务的正常运行

# MQ消息对比

>![[Pasted image 20240128220330.png]]


# 基本架构


>![[Pasted image 20240129201152.png]]


# SpringAMQP

AMQP（高级消息队列协议）是一种用于消息传递的开放标准协议，它提供了可靠的消息传递机制，用于应用程序之间的通信。AMQP定义了消息的格式和传递方式，以及客户端和服务器之间的通信规则。

Spring AMQP是Spring框架对AMQP协议的实现，它提供了在Java应用程序中使用AMQP的支持。Spring AMQP简化了与AMQP代理（如RabbitMQ）的集成，并提供了一组模板和工具类，用于发送和接收消息以及管理AMQP资源。


### 使用

**Maven依赖**

>![[Pasted image 20240131200323.png]]


**配置文件**

>![[Pasted image 20240131200448.png]]

**发消息**

>![[Pasted image 20240131205428.png]]

**接收消息**

>![[Pasted image 20240131205509.png]]

**消费者机制**

>![[Pasted image 20240131210921.png]]



### 交换机

>![[Pasted image 20240131212621.png]]

>![[Pasted image 20240131215056.png]]

## JAVA_RabbitMQ

>![[Pasted image 20240131224718.png]]

>![[Pasted image 20240131225014.png]]

## 配置消息转换器

>![[Pasted image 20240131233404.png]]


 











